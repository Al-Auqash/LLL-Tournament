{"ast":null,"code":"var _jsxFileName = \"F:\\\\Programming\\\\LLL-Tournament\\\\client\\\\src\\\\components\\\\authentication\\\\signIn.js\";\nimport React, { Component } from \"react\";\nimport \"./signIn.css\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass signIn extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      error: \"\"\n    };\n    this.signInUser = this.signInUser.bind(this);\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n  }\n\n  handleFieldChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  signInUser(event) {\n    event.preventDefault();\n    axios.post(\"http://localhost:5000/api/authentication/login\", {\n      email: this.state.email,\n      password: this.state.password\n    }).then(response => {\n      localStorage.setItem(\"token\", response.data.token);\n      localStorage.setItem(\"username\", response.data.username);\n      localStorage.setItem(\"user_id\", response.data._id);\n      localStorage.setItem(\"role\", response.data.role);\n      window.location.href = \"/\";\n    }) // .then(() => {\n    //    navigate(\"/\");\n    // })\n    .catch(error => {\n      console.log(error); // this.setState({\n      //     error: error.Error,\n      // })\n      // console.log(this.state.error);\n    });\n    this.setState({\n      email: \"\",\n      password: \"\"\n    });\n  }\n\n  componentDidUpdate() {\n    let flash = document.getElementById(\"message\");\n\n    if (this.state.error == 404) {\n      flash.removeAttribute(\"hidden\");\n    } else {\n      flash.setAttribute(\"hidden\", true);\n    }\n  }\n\n  render() {\n    const twitchClick = () => {\n      window.location.href = \"https://twitch.com\";\n    };\n\n    const gooogleClick = () => {\n      window.location.href = \"https://google.com\";\n    };\n\n    const twitterClick = () => {\n      window.location.href = \"https://twitter.com\";\n    };\n\n    const steamClick = () => {\n      window.location.href = \"https://store.steampowered.com/\";\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"signIn\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"backgroundSignIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo\",\n          src: \"/images/LLL logo.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"formSignIn\",\n          onSubmit: this.signInUser,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formSection space\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              id: \"message\",\n              hidden: true,\n              children: \"No User Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formText\",\n              children: \"EMAIL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              autoComplete: \"off\",\n              className: \"formInput\",\n              type: \"text\",\n              name: \"email\",\n              value: this.state.email,\n              onChange: this.handleFieldChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"formSection space\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"formText\",\n              children: \"PASSWORD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              autoComplete: \"off\",\n              className: \"formInput\",\n              type: \"password\",\n              name: \"password\",\n              value: this.state.password,\n              onChange: this.handleFieldChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"formButton\",\n            type: \"submit\",\n            name: \"signIn\",\n            children: \"SIGN IN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/forgotPassword\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/Line.png\",\n            className: \"formSeparation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signUp\",\n          className: \"signUpSize\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"signUpButton\",\n            children: \"CREATE FREE ACCOUNT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default signIn;","map":{"version":3,"sources":["F:/Programming/LLL-Tournament/client/src/components/authentication/signIn.js"],"names":["React","Component","Link","Redirect","axios","signIn","constructor","state","email","password","error","signInUser","bind","handleFieldChange","event","setState","target","name","value","preventDefault","post","then","response","localStorage","setItem","data","token","username","_id","role","window","location","href","catch","console","log","componentDidUpdate","flash","document","getElementById","removeAttribute","setAttribute","render","twitchClick","gooogleClick","twitterClick","steamClick"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport \"./signIn.css\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass signIn extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n        };\r\n\r\n        this.signInUser = this.signInUser.bind(this);\r\n        this.handleFieldChange = this.handleFieldChange.bind(this);\r\n    }\r\n\r\n    handleFieldChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    signInUser(event) {\r\n        event.preventDefault();\r\n\r\n        axios\r\n            .post(\"http://localhost:5000/api/authentication/login\", {\r\n                email: this.state.email,\r\n                password: this.state.password,\r\n            })\r\n            .then((response) => {\r\n                localStorage.setItem(\"token\", response.data.token);\r\n                localStorage.setItem(\"username\", response.data.username);\r\n                localStorage.setItem(\"user_id\", response.data._id);\r\n                localStorage.setItem(\"role\", response.data.role);\r\n                window.location.href = \"/\";\r\n\r\n            })\r\n            // .then(() => {\r\n            //    navigate(\"/\");\r\n            // })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                // this.setState({\r\n                //     error: error.Error,\r\n                // })\r\n                // console.log(this.state.error);\r\n            });\r\n\r\n        this.setState({\r\n            email: \"\",\r\n            password: \"\",\r\n        });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let flash = document.getElementById(\"message\");\r\n        if (this.state.error == 404) {\r\n            flash.removeAttribute(\"hidden\");\r\n        } else {\r\n            flash.setAttribute(\"hidden\", true);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const twitchClick = () => {\r\n            window.location.href = \"https://twitch.com\";\r\n        };\r\n\r\n        const gooogleClick = () => {\r\n            window.location.href = \"https://google.com\";\r\n        };\r\n\r\n        const twitterClick = () => {\r\n            window.location.href = \"https://twitter.com\";\r\n        };\r\n\r\n        const steamClick = () => {\r\n            window.location.href = \"https://store.steampowered.com/\";\r\n        };\r\n\r\n        return (\r\n            <div id=\"signIn\">\r\n                <div className=\"backgroundSignIn\">\r\n                    <img className=\"logo\" src=\"/images/LLL logo.png\"></img>\r\n                    {/*<h1>SIGN IN</h1>*/}\r\n                    {/*<h3>to Continue to LLL</h3>*/}\r\n                    <form className=\"formSignIn\" onSubmit={this.signInUser}>\r\n                        <div className=\"formSection space\">\r\n                            <p id=\"message\" hidden>\r\n                                No User Found\r\n                            </p>\r\n\r\n                            <label className=\"formText\">EMAIL</label>\r\n                            <input\r\n                                autoComplete=\"off\"\r\n                                className=\"formInput\"\r\n                                type=\"text\"\r\n                                name=\"email\"\r\n                                value={this.state.email}\r\n                                onChange={this.handleFieldChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"formSection space\">\r\n                            <label className=\"formText\">PASSWORD</label>\r\n                            <input\r\n                                autoComplete=\"off\"\r\n                                className=\"formInput\"\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={this.handleFieldChange}\r\n                            />\r\n                        </div>\r\n                        <button className=\"formButton\" type=\"submit\" name=\"signIn\">\r\n                            SIGN IN\r\n                        </button>\r\n                        <Link to=\"/forgotPassword\">\r\n                            <a>forgot password?</a>\r\n                        </Link>\r\n                        <img src=\"/images/Line.png\" className=\"formSeparation\"></img>\r\n                    </form>\r\n                    <Link to=\"/signUp\" className=\"signUpSize\">\r\n                        <button className=\"signUpButton\">CREATE FREE ACCOUNT</button>\r\n                    </Link>\r\n                    {/* <p>or sign in using</p>\r\n                    <div className=\"mediaSignIn\">\r\n                        <img\r\n                            src={twitch}\r\n                            onClick={twitchClick}\r\n                            className=\"mediaImg\"\r\n                        />\r\n                        <img\r\n                            src={google}\r\n                            onClick={gooogleClick}\r\n                            className=\"mediaImg\"\r\n                        />\r\n                        <img\r\n                            src={twitter}\r\n                            onClick={twitterClick}\r\n                            className=\"mediaImg\"\r\n                        />\r\n                        <img\r\n                            src={steam}\r\n                            onClick={steamClick}\r\n                            className=\"mediaImg\"\r\n                        />\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default signIn;\r\n"]},"metadata":{},"sourceType":"module"}